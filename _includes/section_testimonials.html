{% assign section = include.section %}
<section id="{{ section.section_id }}" class="block block-testimonials outer">
  <div class="inner">
    {% if section.title or section.subtitle %}
    <div class="block-header inner-sm">
      {% assign title_is_not_empty = section.title | is_not_empty %}
      {% if title_is_not_empty %}
      <h2 class="block-title line-top">{{ section.title }}</h2>
      {% endif %}
      {% assign subtitle_is_not_empty = section.subtitle | is_not_empty %}
      {% if subtitle_is_not_empty %}
      <p class="block-subtitle">{{ section.subtitle }}</p>
      {% endif %}
    </div>
    {% endif %}
    {% assign testimonials_is_not_empty = section.testimonials | is_not_empty %}
    {% if testimonials_is_not_empty %}
    <div class="block-content">
      <div class="grid{% if section.col_number == 'two' %} grid-col-2{% endif %}{% if section.col_number == 'three' %} grid-col-3{% endif %}">
        {% for testimonial in section.testimonials %}
        <div class="grid-item">
          <blockquote class="testimonial">
            <p class="testimonial-content">{{ testimonial.content }}</p>
            <footer class="testimonial-footer">
              {% assign avatar_is_not_empty = testimonial.avatar | is_not_empty %}
              {% if avatar_is_not_empty %}
              <img class="testimonial-avatar" src="{{ testimonial.avatar | relative_url }}" alt="Author avatar">
              {% endif %}
              <cite class="testimonial-author">{{ testimonial.author }}</cite>
            </footer>
          </blockquote>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}
  </div><!-- .inner -->
</section><!-- .block -->
